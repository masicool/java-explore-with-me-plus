# Проект Explore With Me (англ. «исследуй со мной») 
Он позволяет пользователям делиться информацией об интересных событиях и находить компанию для участия в них.

Микросервисное приложение,бэкенд состоит из двух микросервисов:
- main-service для бизнес-логики
- stat для сбора статистики просмотра событий по ip, который состоит из трех модулей (модуль общих DTO, модуль сервиса статистики, модуль клиента сервиса статистики)

У каждого микросервиса есть своя база данных.
Микросервисы и базы данных запускаются в собственных Docker контейнерах (4 шт).

## Основная функциональность
### Неавторизованные пользователи
- просмотр всех событий по категориям
- просмотр деталей отдельных событий
- просмотр подборок событий
### Авторизованные пользователи
- добавление, редактирование новых мероприятий
- подача заявок на участие в интересующих мероприятиях
- подтверждение заявки, которые отправили другие пользователи сервиса
- комментарии по событию, в которых участвовал пользователь
### Администраторы
- добавление, изменение и удаление категорий для событий
- добавление, удаление и закрепление на главной странице подборки мероприятий
- модерация событий, размещённых пользователями, — публикация или отклонение

## Спецификации внешнего API
Спецификации внешнего API можно найти по следующим ссылкам:
1. [Спецификация основного сервиса](https://github.com/masicool/java-explore-with-me-plus/blob/main/ewm-main-service-spec.json)
2. [Спецификация сервиса статистики](https://github.com/masicool/java-explore-with-me-plus/blob/main/ewm-stats-service-spec.json)
3. Функционал "комментарии":

Public:
- GET /comments/{id} - Получение комментария
- GET /comments?eventId={eventId} - Получение всех комментариев события

Private:
- POST /users/{userId}/comments?eventId={eventId} - Добавление пользователем комментария к событию. Комментарии можно добавлять только для опубликованных событий. Комментарии может добавлять только инициатор события или пользователь, которому одобрили запрос на участие в событии. Если не включена модерация запросов на участие в событии или лимит участников события равен нулю, то оставлять комментарии может любой пользователь
- PATCH /users/{userId}/comments/{commentId}?eventId={eventId} - Редактирование пользователем комментария к событию. Комментарии может редактировать только инициатор события или пользователь, который является автором комментария
- DELETE /users/{userId}/comments/{commentId}?eventId={eventId} - Удаление пользователем комментария к событию. Комментарии может удалять только инициатор события или пользователь, который является автором комментария

Admin:
- PATCH /admin/comments/{commentId} - Редактирование администратором комментария. Администратор может редактирование любой комментарий
- DELETE /admin/comments/{commentId} - Удаление администратором комментария. Администратор может удалить любой комментарий
- DELETE /admin/comments?eventId={eventId} - Удаление администратором всех комментариев события. Администратор может удалить все комментарии любого события

## Стек технологий
- Java
- Spring Boot
- Spring Data
- Hibernate
- REST API
- PostgreSQL
- Lombok
- Maven
- Docker
- Postman
- Микросервисная архитектура

## Инструкция по развертыванию
- Склонировать репозиторий и перейдите в него
- Выполнить команду mvn clean package
- Выполнить команду mvn install
- Выполнить команду docker-compose build
- Выполнить команду docker-compose up -d
- основной сервис: http://localhost:8080
- сервис статистики: http://localhost:9090 